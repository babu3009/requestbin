---
# SAP BTP Cloud Foundry Manifest for RequestBin with PostgreSQL
applications:
- name: requestbin-app
  routes:
    - route: pgs-requestbin-app.cfapps.eu10-004.hana.ondemand.com
  memory: 512M
  instances: 1
  buildpacks:
    - python_buildpack
  command: python web.py
  services:
    - postgres  # PostgreSQL service instance name
  env:
    REALM: prod
    FLASK_ENV: production
    BP_REQUIREMENTS_FILE: requirements.txt
    BP_PYTHON_VERSION: 3.10.17
    STORAGE_BACKEND: postgresql  # Use PostgreSQL storage backend
    POSTGRES_SCHEMA: requestbin_app  # PostgreSQL schema name
    MAX_REQUESTS: 200
    # Authentication configuration
    ADMIN_EMAIL: admin@requestbin.cfapps.eu10-004.hana.ondemand.com
    ADMIN_PASSWORD: ChangeMe123!  # CHANGE THIS IN PRODUCTION!
    AUTO_APPROVE_DOMAINS: tarento.com,ivolve.ai
    FLASK_SESSION_SECRET_KEY: 3bb25fea945db5a13bd751fbcc34e90a2b1446b6334abe52606051df02448539
    
    # SMTP Email configuration for OTP verification
    # Update these with your SMTP server details
    SMTP_HOST: smtp.gmail.com  # Example: smtp.gmail.com, smtp.office365.com
    SMTP_PORT: 587
    SMTP_USER: your-email@example.com  # CHANGE THIS!
    SMTP_PASSWORD: your-app-password  # CHANGE THIS!
    SMTP_USE_TLS: "true"
    SMTP_FROM_EMAIL: noreply@requestbin.cfapps.eu10-004.hana.ondemand.com
